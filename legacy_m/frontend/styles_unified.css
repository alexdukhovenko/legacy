/* === Design System: НАСЛЕДИЕ =============================== */
:root{
  --primary-brown:#8B7355;
  --accent-gold:#D4AF37;
  --text-primary:#2C3E50;
  --text-secondary:#5C6E7E;
  --bg-primary:#FFFFFF;
  --bg-secondary:#F8F9FA;
  --neutral-light:#ECF0F1;
  --neutral-medium:#BDC3C7;

  --radius:12px;
  --shadow:0 8px 24px rgba(0,0,0,.08);
  --shadow-sm:0 4px 12px rgba(0,0,0,.06);
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color:var(--text-primary); background:linear-gradient(180deg,#fff 0%,#faf8f4 100%);
}

/* Typography */
h1,h2,h3{line-height:1.2;margin:0 0 .5rem}
h1{font-weight:700;font-size:clamp(28px,3vw,40px)}
h2{font-weight:600;font-size:clamp(22px,2.2vw,28px)}
h3{font-weight:600;font-size:clamp(18px,1.8vw,22px)}
p{margin:.5rem 0 1rem;color:var(--text-secondary)}

/* Layout */
.container{
  max-width:1100px; margin:0 auto; padding:24px; width:100%;
}
.card{
  background:var(--bg-primary); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:20px;
  border:1px solid #eee;
}

/* Header / Navbar */
.nav{
  position:sticky; top:0; z-index:50;
  background:rgba(255,255,255,.8); backdrop-filter:saturate(180%) blur(8px);
  border-bottom:1px solid #eee;
}
.nav-inner{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:12px 20px; max-width:1100px; margin:0 auto;
}
.brand{
  display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text-primary);
}
.brand-logo{
  width:32px;height:32px; border-radius:999px;
  background: radial-gradient(circle at 30% 30%, var(--accent-gold), #b98d1e);
  box-shadow: inset 0 0 0 2px #fff, 0 2px 8px rgba(0,0,0,.1);
}
.brand-name{font-weight:700; letter-spacing:.4px}
.nav-actions{display:flex; align-items:center; gap:8px}

/* Buttons */
.btn{
  appearance:none; border:0; cursor:pointer;
  padding:10px 14px; border-radius:10px; font-weight:600;
  background:var(--neutral-light); color:var(--text-primary);
  box-shadow:var(--shadow-sm); transition:.2s ease;
}
.btn:hover{transform:translateY(-1px)}
.btn-primary{
  background:linear-gradient(180deg, var(--accent-gold) 0%, #b98d1e 100%);
  color:#1f2a37;
}
.btn-ghost{
  background:transparent; border:1px solid var(--neutral-medium);
}
.btn-outline{
  background:#fff; border:1px solid var(--accent-gold); color:#6b520f;
}

/* Confession badges */
.badge{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 10px; border-radius:999px; font-weight:600; font-size:12px;
  border:1px solid #eee; background:#fff;
}
.badge i{width:8px;height:8px;border-radius:999px}
.badge.orthodox i{background:#375a7f}
.badge.sunni i{background:#1b7f5a}
.badge.shia i{background:#7f1b47}

/* Grid cards (landing & index) */
.grid{
  display:grid; gap:16px;
  grid-template-columns:repeat(12,1fr);
}
.col-4{grid-column:span 4}
@media (max-width:960px){ .col-4{grid-column:span 6} }
@media (max-width:640px){ .col-4{grid-column:span 12} }

.card-conf{
  position:relative; overflow:hidden; padding:18px; min-height:140px;
  display:flex; flex-direction:column; gap:8px; justify-content:space-between;
}
.card-conf:hover{transform:translateY(-2px); transition:transform .2s ease}
.card-conf .title{font-weight:700}
.card-conf .desc{color:var(--text-secondary); font-size:14px}

/* Chat Layout */
.chat-wrap{display:grid; grid-template-rows:auto 1fr auto; height:calc(100dvh - 64px)}
.chat-header{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:12px 16px; border-bottom:1px solid #eee; background:#fff;
}
.chat-stream{
  overflow:auto; padding:18px; background:var(--bg-secondary);
}
.msg{
  max-width:min(700px, 90%); margin:10px 0; padding:12px 14px;
  border-radius:14px; box-shadow:var(--shadow-sm); border:1px solid #e9e9e9;
  background:#fff; line-height:1.5;
}
.msg.user{margin-left:auto; background:#fdf7e6; border-color:#f2e2b3}
.msg.assistant{margin-right:auto}
.msg .meta{display:flex; gap:8px; align-items:center; font-size:12px; color:#7a8896; margin-bottom:6px}
.msg .sources{margin-top:8px; padding-top:8px; border-top:1px dashed #e2e2e2; font-size:12px; color:#5C6E7E}

/* Typing indicator */
.typing{
  display:inline-flex; gap:6px; align-items:center; padding:8px 10px;
  background:#fff; border:1px solid #eee; border-radius:999px;
}
.dot{width:6px;height:6px;border-radius:999px;background:#c9c9c9;animation:blink 1.2s infinite ease-in-out}
.dot:nth-child(2){animation-delay:.2s}.dot:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,100%{opacity:.3}50%{opacity:1}}

/* Composer */
.chat-composer{
  display:flex; gap:10px; align-items:flex-end; padding:12px; border-top:1px solid #eee; background:#fff;
}
.input{
  flex:1; display:flex; gap:8px; background:#fff; border:1px solid #e5e5e5;
  border-radius:12px; padding:8px 10px; box-shadow:var(--shadow-sm)
}
.input textarea{
  width:100%; border:0; outline:0; resize:none; max-height:180px; min-height:42px;
  font:inherit; color:inherit; background:transparent; padding-top:6px;
}
.input .chip{align-self:center}
.chip{font-size:12px; padding:6px 8px; border-radius:999px; background:#f2efe9; border:1px solid #e0dacf}

/* Forms (auth) */
.form{display:grid; gap:12px}
.input-text{
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid #ddd; outline:0;
}
.input-text:focus{border-color:var(--accent-gold); box-shadow:0 0 0 3px rgba(212,175,55,.2)}

/* Utilities */
.center{display:flex; align-items:center; justify-content:center}
.mute{color:#8a96a3}
.spacer{height:12px}
.hidden{display:none}

/* Accessibility */
:focus-visible{outline:2px solid var(--accent-gold); outline-offset:2px}
@media (prefers-reduced-motion:reduce){
  *{transition:none!important;animation:none!important}
}
