# LEGACY M - Исламский ИИ-Наставник

Цифровая платформа духовного наставничества на основе священных текстов

## Описание

LEGACY M - это ИИ-система, обученная на священных текстах Корана и хадисах, предназначенная для предоставления духовного наставничества. Система использует технологию RAG (Retrieval-Augmented Generation) для точных ответов, основанных только на проверенных источниках.

## Особенности

- **Строгая привязка к источникам** - ИИ отвечает только на основе загруженных священных текстов
- **Цитирование источников** - каждый ответ содержит ссылки на конкретные аяты или хадисы
- **Духовная безопасность** - все ответы верифицированы и не содержат личных интерпретаций
- **Направление к духовникам** - система рекомендует обращаться к живым наставникам для важных вопросов

## Архитектура

### Backend
- **FastAPI** - веб-фреймворк для API
- **SQLAlchemy** - ORM для работы с базой данных
- **Sentence Transformers** - создание векторных представлений текстов
- **FAISS** - быстрый поиск по векторам

### Frontend
- **HTML/CSS/JavaScript** - современный веб-интерфейс
- **Адаптивный дизайн** - работает на всех устройствах
- **Исламский стиль** - дизайн в традициях священных книг

### База данных
- **SQLite** - локальная база данных
- **Векторные индексы** - для семантического поиска
- **Структурированные данные** - аяты, хадисы, комментарии

## Быстрый запуск

```bash
# Перейдите в папку проекта
cd legacy_m

# Запустите автоматический скрипт
./start.sh
```

Скрипт автоматически:
1. Установит все зависимости
2. Инициализирует базу данных
3. Загрузит данные Корана из папки data/
4. Запустит сервер

## Ручная установка

1. Установите зависимости: `pip install -r requirements.txt`
2. Инициализируйте базу данных: `python init_db.py`
3. Загрузите данные: `python scripts/load_quran_data.py`
4. Запустите сервер: `python backend/main.py`

## Источники данных

В папке `data/` уже размещены:
- **Коран. Все переводы.html** - основной файл с переводами
- **Тафсир Абдуррахмана ас-Саади** - классический тафсир
- **Тафсир аль-Мунтахаб** - современный тафсир
- **Перевод Абу Аделя** - перевод Корана

## Использование

1. Откройте браузер и перейдите на `http://localhost:8000`
2. Используйте чат для общения с ИИ-наставником
3. Все ответы будут содержать ссылки на источники

## API

- `POST /api/chat` - отправка сообщения ИИ
- `POST /api/session` - создание новой сессии
- `GET /api/session/{id}/messages` - получение истории чата
- `GET /api/health` - проверка состояния сервиса
- `GET /docs` - интерактивная документация API

## Принципы работы

1. **Только источники** - ИИ не галлюцинирует, отвечает только на основе текстов
2. **Цитирование** - каждый ответ содержит конкретные ссылки
3. **Направление к духовникам** - для важных вопросов рекомендуется обращение к имамам
4. **Духовная безопасность** - все ответы проверены и верифицированы

## Структура проекта

```
legacy_m/
├── backend/           # FastAPI бэкенд
├── database/          # Модели и настройка БД
├── frontend/          # Веб-интерфейс
├── data/             # Исходные тексты (уже загружены)
├── scripts/          # Скрипты загрузки данных
├── config/           # Конфигурация
├── requirements.txt  # Python зависимости
├── init_db.py       # Инициализация БД
├── start.sh         # Скрипт запуска
└── README.md        # Документация
```

## Доступные адреса

- **Главная**: http://localhost:8000
- **Чат**: http://localhost:8000/frontend/index.html
- **API**: http://localhost:8000/docs

## Лицензия

Проект создан для духовного просвещения и образования.